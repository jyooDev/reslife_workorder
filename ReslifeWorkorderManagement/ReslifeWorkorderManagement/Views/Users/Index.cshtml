@model Dictionary<string, List<ReslifeWorkorderManagement.Models.StaffVM>>

@{
    ViewData["Title"] = "Staffs";
    Layout = "_Staff-Layout";
}

<div id="PlaceHolderHere"></div>

<div class="wrapper">
    <div class="d-flex justify-content-between align-items-center heading-line">
        <h1>Staffs</h1>
    </div>
    <div class="staff-layout">
        <div class="left-section">
            <div class="staff-table">
                <h3>Administrator</h3>
                <table id="staffsTable">
                    <thead id="StaffsTableHead">
                        <tr>
                            <th>
                                Name
                            </th>
                            <th>
                                Email
                            </th>
                    
                            <th class="action">
                                Action
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var staff in Model["Administrators"])
                        {
                            <tr>
                                <td>
                                    @staff.user.FirstName @staff.user.LastName                        
                                </td>
                                <td>
                                    @staff.user.Email                        
                                </td>
                                <td data-cell="action">
                                    <button data-toggle="modal" data-url="@Url.Action("Edit", "Users", new { id = staff.user.Id })" class="edit-icon-btn">
                                        <i class="bi bi-pencil edit-icon"></i>
                                    </button>
                                    <button data-toggle="modal" data-url="@Url.Action("Delete", "Users", new { id = staff.user.Id })" class="delete-icon-btn">
                                        <i class="bi bi-trash details-icon"></i>
                                    </button>
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
            <div class="staff-table">
                <h3>Student Supervisor</h3>
                <table id="staffsTable">
                    <thead id="StaffsTableHead">
                        <tr>
                            <th>
                                Name
                            </th>
                            <th>
                                Email
                            </th>

                            <th class="action">
                                Action
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var staff in Model["StudentSupervisors"])
                        {
                            <tr>
                                <td>
                                    @staff.user.FirstName @staff.user.LastName
                                </td>
                                <td>
                                    @staff.user.Email
                                </td>
                                <td data-cell="action">
                                    <button data-toggle="modal" data-url="@Url.Action("Edit", "Users", new { id = staff.user.Id })" class="edit-icon-btn">
                                        <i class="bi bi-pencil edit-icon"></i>
                                    </button>
                                    <button data-toggle="modal" data-url="@Url.Action("Delete", "Users", new { id = staff.user.Id })" class="delete-icon-btn">
                                        <i class="bi bi-trash details-icon"></i>
                                    </button>
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>
        <div class="right-section">
            <div class="staff-table">
                <h3>Maintenance Staff</h3>
                <table id="staffsTable">
                    <thead id="StaffsTableHead">
                        <tr>
                            <th>
                                Name
                            </th>
                            <th>
                                Email
                            </th>
                            <th class="action">
                                Action
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var staff in Model["MaintenanceStaffs"])
                        {
                            <tr>
                                <td>
                                    @staff.user.FirstName @staff.user.LastName
                                </td>
                                <td>
                                    @staff.user.Email
                                </td>
                                <td data-cell="action">
                                    <button data-toggle="modal" data-url="@Url.Action("Edit", "Users", new { id = staff.user.Id })" class="edit-icon-btn">
                                        <i class="bi bi-pencil edit-icon"></i>
                                    </button>
                                    <button data-toggle="modal" data-url="@Url.Action("Delete", "Users", new { id = staff.user.Id })" class="delete-icon-btn">
                                        <i class="bi bi-trash details-icon"></i>
                                    </button>
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
            <div class="staff-table">
                <h3>Desk Staff</h3>
                <table id="staffsTable">
                    <thead id="StaffsTableHead">
                        <tr>
                            <th>
                                Name
                            </th>
                            <th>
                                Email
                            </th>
                            <th class="action">
                                Action
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var staff in Model["DeskStaffs"])
                        {
                            <tr>
                                <td>
                                    @staff.user.FirstName @staff.user.LastName
                                </td>
                                <td>
                                    @staff.user.Email
                                </td>
                                <td data-cell="action">
                                    <button data-toggle="modal" data-url="@Url.Action("Edit", "Users", new { id = staff.user.Id })" class="edit-icon-btn">
                                        <i class="bi bi-pencil edit-icon"></i>
                                    </button>
                                    <button data-toggle="modal" data-url="@Url.Action("Delete", "Users", new { id = staff.user.Id })" class="delete-icon-btn">
                                        <i class="bi bi-trash details-icon"></i>
                                    </button>
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

<style>
    .staff-layout{
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 2rem;
    }

    .staff-table{
        margin-top: 2rem;
    }
    .edit-icon-btn {
        border-radius: 10%;
        margin: 2px;
        padding: 0.3rem 0.3rem;
        border: none;
        box-shadow: none;
        color: white;
        background-color: #303030;
    }

    .delete-icon-btn {
        border-radius: 10%;
        margin: 2px;
        padding: 0.3rem 0.3rem;
        border: none;
        color: white;
        background-color: #303030;
    }

    .progress-dropdown {
        padding: 0.5rem 0.75rem;
        border-radius: 10px;
        text-decoration: none;
        outline: none;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        border: none;
        appearance: none;
    }

    .progress-dropdown.progress-requested {
        background-color: rgba(180, 16, 49, 0.33);
        color: rgb(112, 0, 23);
    }

    .progress-dropdown.progress-inprogress {
        background-color: rgba(255, 187, 17, 0.33);
        color: rgba(161, 115, 0);
    }

    .progress-dropdown.progress-complete {
        background-color: rgba(95, 207, 98, 0.51);
        color: rgba(40, 84, 42);
    }

    .assignee-box {
        background-color: rgba(116, 116, 116, 0.86);
    }

    table {
        background-color: #f7f7f7;
        color: black;
        border-radius: 10px;
        width: 100%;
    }

    th,
    td {
        padding: 1rem;
        width: 40%;
    }

    .action {
        width: 20%;
    }

    thead {
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        position: sticky;
        border-top-left-radius: 10px;
        border-top-right-radius: 10px;

    th {
        border-radius: 10px;
        position: sticky;
        text-align: left;
    }

    tr:nth-of-type(2n) {
        background: hsl(0 50% 0% / 0.05);
    }


    /* Mobile View */

    .mobile-view {
        display: none;
    }

    tr:first-child th:first-child {
        border-top-left-radius: 10px;
    }

    tr:first-child th:last-child {
        border-top-left-radius: 10px;
    }

    tr:last-child td:first-child {
        border-bottom-left-radius: 10px;
    }

    tr:last-child td:last-child {
        border-bottom-right-radius: 10px;
    }
</style>
